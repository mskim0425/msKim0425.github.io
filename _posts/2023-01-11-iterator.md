---
layout: post
title:  "í–‰ìœ„íŒ¨í„´ - ì´í„°ë ˆì´í„° íŒ¨í„´"
date:   2023-01-11 23:11:07 +0900
categories: [CS ,  Design Pattern]
tags: [cs, design pattern]
---
# Iterator Pattern ğŸ§™â€â™‚ï¸

<details>
<summary><span style="color: gold"> ë””ìì¸ íŒ¨í„´ì´ë€? </span></summary>
<div markdown="1">
## <span style="color: gold"> ë””ìì¸ íŒ¨í„´ì´ë€? </span>
- ë””ìì¸ íŒ¨í„´ì€ ì†Œí”„íŠ¸ì›¨ì–´ ê³µí•™ì˜ ì†Œí”„íŠ¸ì›¨ì–´ ì„¤ê³„ì—ì„œ ê³µí†µìœ¼ë¡œ ë°œìƒí•˜ëŠ” ë¬¸ì œë¥¼ ìì£¼ ì“°ì´ëŠ” ì„¤ê³„ ë°©ë²•ì„ ì •ë¦¬í•œ íŒ¨í„´ì´ë‹¤.
- ë””ìì¸ íŒ¨í„´ì„ ì°¸ê³ í•˜ì—¬ ê°œë°œí•˜ë©´ íš¨ìœ¨ì„±ê³¼ ìœ ì§€ë³´ìˆ˜ì„±, ìš´ìš©ì„±ì´ ë†’ì•„ì§€ë©°, í”„ë¡œê·¸ë¨ ìµœì í™”ê°€ ëœë‹¤ê³  í•œë‹¤.
ã€€ 

ë””ìì¸ íŒ¨í„´ì„ ëª©ì ê³¼ ë²”ìœ„ë¡œ ë‚˜ëˆŒìˆ˜ ìˆë‹¤

|êµ¬ë¶„|ìœ í˜•|ì„¤ëª…|
|:---:|:---:|:---|
| |ìƒì„±|ê°ì²´ ì¸ìŠ¤í„´ìŠ¤ ìƒì„±ì— ê´€ì—¬, í´ë˜ìŠ¤ ì •ì˜ì™€ ê°ì²´ ìƒì„± ë°©ì‹ì„ êµ¬ì¡°í™”, ìº¡ìŠí™”ë¥¼ ìˆ˜í–‰|
|ëª©ì |êµ¬ì¡°|ë” í° êµ¬ì¡° í˜•ì„± ëª©ì ìœ¼ë¡œ í´ë˜ìŠ¤ë‚˜ ê°ì²´ì˜ ì¡°í•©ì„ ë‹¤ë£¨ëŠ” íŒ¨í„´|
|    |í–‰ìœ„|í´ë˜ìŠ¤ë‚˜ ê°ì²´ë“¤ì´ ìƒí˜¸ì‘ìš©í•˜ëŠ” ë°©ë²•ê³¼ ì—­í•  ë¶„ë‹´ì„ ë‹¤ë£¨ëŠ” íŒ¨í„´|
|ë²”ìœ„|í´ë˜ìŠ¤|í´ë˜ìŠ¤ê°„ ê´€ë ¨ì„±(ìƒì†), ì»´íŒŒì¼ ì‹œ ì •ì ìœ¼ë¡œ ê²°ì •|
|    |ê°ì²´|ê°ì²´ ê°„ ê´€ë ¨ì„±ì„ ë‹¤ë£¨ëŠ” íŒ¨í„´, ëŸ°íƒ€ì„ ì‹œ ë™ì ìœ¼ë¡œ ê²°ì •|

---
</div>
</details>
ã€€ã€€
>`ì´í„°ë ˆì´í„° íŒ¨í„´` ë°˜ë³µì‘ì—…ì„ ì´í„°ë ˆì´í„°ì—ê²Œ ë§¡ê²¨ì„œ ë°˜ë³µì‘ì—…ì„ ìˆœì„œëŒ€ë¡œ ì²˜ë¦¬í•˜ëŠ” íŒ¨í„´
{: .prompt-tip}  

## <span style="color: gold"> ì´í„°ë ˆì´í„° íŒ¨í„´ì´ë€? Iterator pattern </span>
*ì´í„°ë ˆì´í„° íŒ¨í„´*ì€ ì»¬ë ‰ì…˜ êµ¬í˜„ ë°©ë²•ì„ ë…¸ì¶œì‹œí‚¤ì§€ ì•Šìœ¼ë©´ì„œë„ ê·¸ ì§‘í•©ì²´ ì•ˆì— ë“¤ì–´ìˆëŠ” ëª¨ë“  í•­ëª©ì— ëŒ€í•´ ì ‘ê·¼í•  ìˆ˜ ìˆê²Œ í•´ì¤€ë‹¤. ë˜í•œ, ëª¨ë“  í•­ëª©ì— ì¼ì¼ì´ ì ‘ê·¼í•˜ëŠ” ì»¬ë™ì…˜ ê°ì²´ê°€ ì•„ë‹Œ ë°˜ë³µì ê°ì²´ê°€ ë§¡ê³  ì§„í–‰í•œë‹¤ëŠ” ì ì´ë‹¤.__(Streamê°™ì€ ë‚´ë¶€ë°˜ë³µìëŠ” ì•„ë‹˜)__
ì´ë¥¼ í†µí•´ ì¸í„°í˜ì´ìŠ¤ì™€ êµ¬í˜„ì´ ë‹¨ìˆœí•´ì§„ë‹¤. ìš°ì„  ì´í„°ë ˆì´í„°ì˜ ê¸°ë³¸ ì‚¬ìš©ë²•ì„ ì„¤ëª…í•˜ê³  ì´í„°ë ˆì´í„° íŒ¨í„´ì„ ì•Œì•„ë³´ì.  

`ì´í„°ë ˆì´í„° ê¸°ë³¸ êµ¬ì„±`
```java
class AboutIterator{
    public static void main (String[] args){
        ArrayList list = new ArrayList();
        list.add("1"); ... list.add("5"); // 1~5ê¹Œì§€ ë„£ì—ˆë‹¤ê³  ê°€ì •

        Iterator it = list.iterator();

        while(it.hasNext()){
            Object obj = it.next();
            System.out.print(obj+" "); //1 2 3 4 5
        }
    }
}
```
í•œ ë°©í–¥ìœ¼ë¡œë§Œ ì‚¬ìš©í•˜ëŠ” ì´í„°ë ˆì´í„° ì™¸ì— ë°˜ëŒ€ë°©í–¥ìœ¼ë¡œë„ í•˜ëŠ” ì‚¬ìš©í•  ìˆ˜ ìˆëŠ” List iteratorë„ ìˆë‹¤.  
next()ëŒ€ì‹  `preivous()`ë¥¼ ì‚¬ìš©í•˜ë©´ëœë‹¤.  
  
`ë¦¬ìŠ¤íŠ¸ ì´í„°ë ˆì´í„° êµ¬ì„±`
ListIterator
```java
class AboutIterator{
    public static void main (String[] args){
        ArrayList list = new ArrayList();
        list.add("1"); ... list.add("5"); // 1~5ê¹Œì§€ ë„£ì—ˆë‹¤ê³  ê°€ì •

        ListIterator it = list.listIterator();

        while(it.hasNext()){
            Object obj = it.next();
            System.out.print(obj+" "); //1 2 3 4 5
        }

           while(it.hasPrevious()){
            Object obj = it.pervious();
            System.out.print(obj+" "); //5 4 3 2 1 ì—­ë°©í–¥
        }
    }
}
```
ì ì´ë²ˆì—ëŠ” ì´í„°ë ˆì´í„° íŒ¨í„´ì„ ì´ìš©í•´ë³´ê² ë‹¤.  
í•„ìëŠ” ìš”ìƒˆ í–¥ìˆ˜ê°€ ë„ˆë¬´ ë§ì•„ì„œ í–¥ìˆ˜ë¥¼ í•œë²ˆ ì •ë¦¬í•˜ëŠ”ê²¸ í–¥ìˆ˜ë¡œ ì˜ˆì œë¥¼ ë§Œë“¤ê² ë‹¤.

<img src="https://github.com/msKim92/msKim92.github.io/blob/main/images/design/perfume.png?raw=true" width="600" height="600">


```java
import java.util.Iterator;
//ê¹Œë¨¹ì§€ ì•Šê³  ì´í„°ë ˆì´í„°ë¥¼ ì“°ê¸° ìœ„í•œ ì¸í„°í˜ì´ìŠ¤
interface makeIteratorInterface{
    Iterator createIterator();
}
//í–¥ìˆ˜ì´ë¦„ê³¼ ë¸Œëœë“œë¥¼ ì €ì¥í•˜ëŠ” ê°ì²´
public class Perfume {
    private String name;
    private String brand;

    public String getName() {
        return name;
    }

    public String getBrand() {
        return brand;
    }

    public Perfume(String brand, String name) {
        this.name = name;
        this.brand = brand;
    }
//í–¥ìˆ˜ë¥¼ ë³´ê´€í•˜ëŠ” ìˆ˜ë‚©ì¥ì´ë‹¤.
    private static class Closet implements makeIteratorInterface{
        private Perfume[] perfumes;
        private int location = 0; //í–¥ìˆ˜ ë§ˆì§€ë§‰ ìœ„ì¹˜

        public Perfume getPerfume(int location) {
            return perfumes[location];
        }

        public int getLocationSize() {
            return location;
        }

        public void collectPerfume(Perfume perfume) {
            if (location < perfumes.length) {
                this.perfumes[location] = perfume;
                location++;
            }else
                System.out.println("ìˆ˜ë‚©ì¥ì´ ê½‰ì°¼ìŠµë‹ˆë‹¤.");
        }

        public Closet(int total) { //í–¥ìˆ˜ ì´ê°œìˆ˜
            perfumes = new Perfume[total];
        }

        @Override
        public Iterator createIterator() {
            return new ClosetIterator(this);
        }
```

ìˆ˜ë‚©ì¥ì—ì„œ í•˜ë‚˜ì”© ì• ë“¤ì„ ì–´ë–»ê²Œ êº¼ë‚¼ì§€ ì •ì±…ì„ ê²°ì •í•˜ëŠ” ì´í„°ë ˆì´í„° íŒ¨í„´ì˜ ì˜ˆ.
```java
        private class ClosetIterator implements Iterator<Perfume> {
            private Closet closet;
            private int currentLocation = 0;
            public ClosetIterator(Closet closet) {
                this.closet = closet;
            }

            @Override
            public boolean hasNext() {
                return currentLocation < closet.getLocationSize();
            }

            @Override
            public Perfume next() {
                Perfume perfume = closet.getPerfume(currentLocation);
                currentLocation++;
                return perfume;
            }
        }
```
ì •ë‹µì„ ì¶œë ¥í•˜ëŠ” ë©”ì„œë“œ
```java
        
        public static void main(String[] args) {
            Closet closet = new Closet(4);
            Perfume perfume1 = new Perfume("ì…ì…ë¡œë‘", "ì˜´ë¯€");
            Perfume perfume2 = new Perfume("ë² ë¥´ì‚¬ì²´", "ì—ë¡œìŠ¤");
            Perfume perfume3 = new Perfume("ë””ì˜¬", "ì„¸ë¹„ì§€");
            Perfume perfume4 = new Perfume("ìƒ¤ë„¬", "ì˜´ë¯€");
            Perfume perfume5 = new Perfume("ì—ë¥´ë©”ìŠ¤", "ì˜´ë¯€");
            

            closet.collectPerfume(perfume1); closet.collectPerfume(perfume2);
            closet.collectPerfume(perfume3); closet.collectPerfume(perfume4);
            closet.collectPerfume(peffume5);

            System.out.println("í˜„ì¬ í–¥ìˆ˜ ê°œìˆ˜ = " + closet.getLocationSize());

            Iterator iterator = closet.createIterator();
            while (iterator.hasNext()) {
                Perfume next = (Perfume) iterator.next();
                System.out.println(next.brand+" "+next.name);
            }
        }
    }
}
//ìˆ˜ë‚©ì¥ì´ ê½‰ì°¼ìŠµë‹ˆë‹¤. (ì—ë¥´ë©”ìŠ¤ê°€ ëª»ë“¤ì–´ê°.)
//í˜„ì¬ í–¥ìˆ˜ ê°œìˆ˜ = 4
// ì…ì…ë¡œë‘ ì˜´ë¯€
// ë² ë¥´ì‚¬ì²´ ì—ë¡œìŠ¤
// ëª½ë¸”ë‘ ì„¸ë¹„ì§€
// ìƒ¤ë„¬ ì˜´ë¯€
```

## <span style="color: gold"> ì¥ì  ë‹¨ì </span>  
`ì¥ì `
- ìœ„ì—ì„œ ì–¸ê¸‰í•œ ê²ƒì²˜ëŸ¼ ëª¨ë“  í•­ëª©ì„ ì¼ì¼íˆ ì ‘ê·¼í•˜ì—¬ ì‘ì—…ì„ í•˜ëŠ” ê²ƒì´ ì•„ë‹Œ, ì´í„°ë ˆì´í„°ê°€ ëª¨ë“  í•­ëª©ì— ëŒ€í•´ ì ‘ê·¼í•  ìˆ˜ ìˆë„ë¡ í•´ì¤€ë‹¤. 
- í´ë˜ìŠ¤ì˜ ì‘ì§‘ë„ê°€ ì˜¬ë¼ê°„ë‹¤. (ì‘ì§‘ë„: í•œ ëª¨ë“ˆ ë‚´ë¶€ì˜ ì²˜ë¦¬ ìš”ì†Œë“¤ì´ ì„œë¡œ ê´€ë ¨ë˜ì–´ ìˆëŠ” ì •ë„)

`ë‹¨ì `
- ì‚¬ì‹¤ ì§€ê¸ˆê³¼ ê°™ì€ ë‹¨ìˆœí•œ ë°˜ë³µì´ë¼ë©´ ë³µì¡í•˜ê¸°ë§Œí•˜ê³  í•„ìš”ì„±ì´ ì—†ëŠ”ê±° ê°™ë‹¤.  
  
## <span style="color: gold"> ì¶œì²˜</span>  
- Head First ë””ìì¸íŒ¨í„´

